{
  "bot_id": "EXAMPLE_BOT_ID",
  "version": "1.0.0",
  "name": "E-commerce Order Status Bot",
  "description": "Bot that checks Shopify order status and provides tracking information",
  "nodes": [
    {
      "id": "1",
      "type": "whatsapp_trigger",
      "name": "Listen for 'order' keyword",
      "config": {
        "keyword": "order"
      }
    },
    {
      "id": "2",
      "type": "ask_question",
      "name": "Ask for Order Number",
      "config": {
        "question": "Please provide your order number:",
        "variable_name": "order_number",
        "timeout": 300
      }
    },
    {
      "id": "3",
      "type": "shopify_lookup",
      "name": "Lookup Order in Shopify",
      "config": {
        "product_id": "{{order_number}}",
        "fields": ["title", "price", "inventory"]
      }
    },
    {
      "id": "4",
      "type": "if_condition",
      "name": "Check if Order is Shipped",
      "config": {
        "left_value": "{{product.status}}",
        "operator": "equals",
        "right_value": "shipped"
      }
    },
    {
      "id": "5",
      "type": "whatsapp_reply",
      "name": "Shipped Response",
      "config": {
        "message": "Great news! ðŸŽ‰ Your order is on the way! Tracking number: {{product.tracking_number}}",
        "recipient": "{{customer_phone}}"
      }
    },
    {
      "id": "6",
      "type": "whatsapp_reply",
      "name": "Not Shipped Response",
      "config": {
        "message": "Your order status: {{product.status}}. We'll notify you when it ships!",
        "recipient": "{{customer_phone}}"
      }
    }
  ],
  "edges": [
    {
      "id": "e1",
      "source": "1",
      "target": "2"
    },
    {
      "id": "e2",
      "source": "2",
      "target": "3"
    },
    {
      "id": "e3",
      "source": "3",
      "target": "4"
    },
    {
      "id": "e4",
      "source": "4",
      "target": "5",
      "sourceHandle": "true",
      "label": "Yes, shipped"
    },
    {
      "id": "e5",
      "source": "4",
      "target": "6",
      "sourceHandle": "false",
      "label": "Not yet shipped"
    }
  ],
  "variables": {
    "store_name": "My Store"
  },
  "credentials": [
    {
      "service": "shopify",
      "credential_id": "SHOPIFY_CREDENTIAL_ID"
    }
  ]
}
